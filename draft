API_PORT=8000 CUDA_VISIBLE_DEVICES=0 llamafactory-cli api /data/hzf/LLaMA-Factory/examples/inference/qwen_2.5_math.yaml
llamafactory-cli chat /data/hzf/LLaMA-Factory/examples/inference/qwen_2.5_math.yaml
  {
    "instruction": "Please answer the math question.",
    "input": "147 passengers fit into 7 buses. How many passengers fit in 4 buses?",
    "output": " If 147 passengers fit into 7 buses, then the number of passengers per bus is $147/7 = 21$.\nTo find out how many passengers fit in 4 buses, we multiply the number of passengers per bus by the number of buses, so $21 \\times 4 = 84$.\nTherefore, 84 passengers fit in 4 buses.\nThe answer is $\\boxed{84}$."
  },
  {
    "instruction": "Please answer the math question.",
    "input": "48 children are trying to share a pack of sweets. After taking 4 sweets each, there is still a third of the original amount left. In addition, they also receive another pack of sweets with 20 fewer sweets than the original pack. How many packs of sweets do they consume in a month, assuming there are 4 weeks in a month?",
    "output": " If each child takes 4 sweets and there are 48 children, then the total number of sweets taken is 4 * 48 = 192.\nIf there is still a third of the original amount left, then the remaining amount of sweets is 1/3 * original amount.\nLet's say the original amount of sweets is x. So the remaining amount is x/3.\nThe total number of sweets taken plus the remaining amount equals the original amount, so we have the equation 192 + x/3 = x.\nMultiplying through by 3 to get rid of the fraction gives us 576 + x = 3x.\nSubtracting x from both sides gives us 576 = 2x.\nDividing both sides by 2 gives us x = 288. So the original pack of sweets had 288 sweets.\nIf they receive another pack of sweets with 20 fewer sweets than the original pack, then the second pack has 288 - 20 = 268 sweets.\nIn total, they consume 192 + 268 = 460 sweets in a week.\nSince there are 4 weeks in a month, they consume 460 * 4 = 1840 sweets in a month.\nTo find out how many packs of sweets they consume, we divide the total number of sweets by the number of sweets in each pack.\nSince each pack has 288 sweets, the number of packs consumed in a month is 1840 / 288 = 6.4 packs.\nHowever, we can't have a fraction of a pack, so we must have made a mistake in our calculations.\nLet's go back and check our work.\nWe found that the remaining amount of sweets is x/3, which means the number of sweets taken is x - x/3 = 2x/3.\nSo the equation should be 2x/3 + 192 = x.\nMultiplying through by 3 to get rid of the fraction gives us 2x + 576 = 3x.\nSubtracting 2x from both sides gives us 576 = x.\nSo the original pack of sweets had 576 sweets.\nIf they receive another pack of sweets with 20 fewer sweets than the original pack, then the second pack has 576 - 20 = 556 sweets.\nIn total, they consume 2 * 576 = 1152 sweets in a month.\nTo find out how many packs of sweets they consume, we divide the total number of sweets by the number of sweets in each pack.\nSince each pack has 576 sweets, the number of packs consumed in a month is 1152 / 576 = 2 packs.\nThe mistake in our original calculation was that we assumed the remaining amount of sweets was x/3, when it should actually be (x - 192)/3.\nThe correct calculation shows that they consume 2 packs of sweets in a month. The answer is: $2$"
  },
  llamafactory-cli train /data/hzf/LLaMA-Factory/examples/train_lora/qwen2.5_lora_predict.yaml
  合并：
  llamafactory-cli export /data/hzf/LLaMA-Factory/examples/merge_lora/math.yaml
  评估：
  python /data/hzf/MAmmoTH/math_eval/run_open.py  --model "models/qwen2.5-1.5b_math_all_filtered" --shots 0 --stem_flan_type cot --dataset math --model_max_length 4096  --cot_backup --print
